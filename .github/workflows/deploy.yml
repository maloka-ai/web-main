name: Deploy via Self-Hosted Runner (EC2)

on:
  push:
    branches:
      - develop

jobs:
  deploy:
    name: Rodar script de deploy na EC2
    runs-on: self-hosted  # se vocÃª adicionou label personalizada, use: self-hosted && ec2
    steps:
      - name: Checkout do cÃ³digo (obrigatÃ³rio para o GitHub Actions)
        uses: actions/checkout@v4

      - name: Rodar script deploy no diretÃ³rio /home/automation/web-main
        run: |
          echo "ðŸš€ Iniciando deploy em /home/automation/web-main"
          cd /home/automation/web-main
          chmod +x deploy
          ./deploy
          echo "âœ… Deploy finalizado com sucesso!"
